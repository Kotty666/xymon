--- a/lib/url.c
+++ b/lib/url.c
@@ -563,7 +563,9 @@ char *decode_url(char *testspec, bburl_t
 	if (poststart) getescapestring(poststart, &bburl->postdata, NULL);
 	if (expstart)  getescapestring(expstart, &bburl->expdata, NULL);
 
-	p = strstr(urlstart, "/http");
+	p = strstr(urlstart, "/http://");
+	if (!p)
+		p = strstr(urlstart, "/https://");
 	if (p) {
 		proxystart = urlstart;
 		urlstart = (p+1);
